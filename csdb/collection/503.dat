function ExtractURIFragment(const URI: string): string;
var
  FragmentStart: Integer;
begin
  FragmentStart := SysUtils.AnsiPos('#', URI);
  if FragmentStart > 0 then
    Result := Copy(URI, FragmentStart + 1, Length(URI) - FragmentStart)
  else
    Result := '';
end;