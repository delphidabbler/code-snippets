[FileHasWatermark_A]
DisplayName="FileHasWatermark (byte array overload)"
Desc="Checks if the file named FileName contains the sequence of bytes given in the byte arrary Watermark starting at the byte offset given by the (optional) Offset parameter."
DescEx="<p>Checks if the file named <var>FileName</var> contains the sequence of bytes given in the byte arrary <var>Watermark</var> starting at the byte offset given by the (optional) <var>Offset</var> parameter.</p>"
Extra="<p>Taken from <a href="http://delphidabbler.blogspot.co.uk/2012/10/checking-file-preambles-and-watermarks.html">Checking File Preambles and Watermarks</a> posted on <a href="http://delphidabbler.blogspot.co.uk/">DelphiDabbler's Blog</a>.</p>"
Units=SysUtils,Classes
Depends=StreamHasWatermark
SeeAlso=FileHasWatermark_B,StreamHasWatermark
Snip=517.dat
Delphi2=N
Delphi3=N
Delphi4=Y
Delphi5=Y
Delphi6=Y
Delphi7=Y
Delphi2005Win32=Y
Delphi2006Win32=Y
Delphi2007=Y
Delphi2009Win32=Y
Delphi2010=Y
DelphiXE=Y
DelphiXE2=Y
DelphiXE3=Y
DelphiXE4=Y
Delphi10S=Y
FPC=Y

[FileHasWatermark_B]
DisplayName="FileHasWatermark (ANSI string overload)"
Desc="Checks if the file named FileName contains ANSI text Watermark starting at the byte offset given by the (optional) Offset parameter."
DescEx="<p>Checks if the file named <var>FileName</var> contains ANSI text <var>Watermark</var> starting at the byte offset given by the (optional) <var>Offset</var> parameter.</p>"
Extra="<p>Taken from <a href="http://delphidabbler.blogspot.co.uk/2012/10/checking-file-preambles-and-watermarks.html">Checking File Preambles and Watermarks</a> posted on <a href="http://delphidabbler.blogspot.co.uk/">DelphiDabbler's Blog</a>.</p>"
Depends=FileHasWatermark_A
SeeAlso=FileHasWatermark_A,StreamHasWatermark
Snip=518.dat
Delphi2=N
Delphi3=N
Delphi4=N
Delphi5=Q
Delphi6=Y
Delphi7=Y
Delphi2005Win32=Y
Delphi2006Win32=Y
Delphi2007=Y
Delphi2009Win32=Y
Delphi2010=Y
DelphiXE=Y
DelphiXE2=Y
DelphiXE3=Y
DelphiXE4=Y
Delphi10S=Y
FPC=Y

[StreamHasWatermark]
Desc="Checks if the given stream has the given 'watermark' (i.e. sequence of bytes) starting from the current position in the stream. The stream position is unaltered."
DescEx="<p>Checks if the given stream has the given &quot;watermark&quot; (i.e. sequence of bytes) starting from the current position in the stream.</p><p>The stream position is unaltered.</p>"
Extra="<p>For maximum flexibility the function checks the stream from the current position. So, to check from the start of a stream make sure it's <var>Position</var> property is set to 0 before calling the routine.</p><p>For examples of use see <a href="http://delphidabbler.blogspot.co.uk/2012/10/checking-file-preambles-and-watermarks.html">Checking File Preambles and Watermarks</a> posted on <a href="http://delphidabbler.blogspot.co.uk/">DelphiDabbler's Blog</a>.</p>"
Units=Classes
SeeAlso=FileHasWatermark_A,FileHasWatermark_B
Snip=516.dat
Delphi2=N
Delphi3=N
Delphi4=Y
Delphi5=Y
Delphi6=Y
Delphi7=Y
Delphi2005Win32=Y
Delphi2006Win32=Y
Delphi2007=Y
Delphi2009Win32=Y
Delphi2010=Y
DelphiXE=Y
DelphiXE2=Y
DelphiXE3=Y
DelphiXE4=Y
Delphi10S=Y
FPC=Y

[UnicodeFileToWideString]
Desc="Reads text from the file named by FileName into a wide string and returns the string. If the file begins with a UTF16 little endian byte order mark then the text is read as Unicode, otherwise it is assumed to be ANSI text in the default encoding."
DescEx="<p>Reads text from the file named by <var>FileName</var> into a wide string and returns the string.</p><p>If the file begins with a UTF16 little endian byte order mark then the text is read as Unicode, otherwise it is assumed to be ANSI text in the default encoding.</p>"
Extra="<p>This function works with files up to 2Gb. In later versions of Delphi the required <var>UnicodeStreamToWideString</var> function can be modified to work with larger streams.</p>"
Units=Classes,SysUtils
Depends=UnicodeStreamToWideString
SeeAlso=WideStringToUnicodeFile,FileToString,StringToFile
Snip=081.dat
Delphi2=N
Delphi3=Y
Delphi4=Y
Delphi5=Y
Delphi6=Y
Delphi7=Y
Delphi2005Win32=Y
Delphi2006Win32=Y
Delphi2007=Y
Delphi2009Win32=Y
Delphi2010=Y
DelphiXE=Y
DelphiXE2=Y
DelphiXE3=Y
DelphiXE4=Y
Delphi10S=Y
FPC=Y

[UnicodeStreamToWideString]
Desc="Reads text from stream Stm into a wide string an returns the string. If a UTF16 little endian byte order mark is found then the text is read as Unicode, otherwise it is assumed to be ANSI text in the default encoding."
DescEx="<p>Reads text from stream <var>Stm</var> into a wide string an returns the string.</p><p>If a UTF16 little endian byte order mark is found then the text is read as Unicode, otherwise it is assumed to be ANSI text in the default encoding.</p>"
Extra="<p>This function works with streams up to 2Gb. In later versions of Delphi change the type of the <var>DataSize</var> variable to <var>Int64</var> to work with larger streams.</p>"
Units=Windows,Classes
Depends=IsUnicodeStream,StreamToString
SeeAlso=WideStringToUnicodeStream,StreamToString,StringToStream
Snip=082.dat
Delphi2=N
Delphi3=Y
Delphi4=Y
Delphi5=Y
Delphi6=Y
Delphi7=Y
Delphi2005Win32=Y
Delphi2006Win32=Y
Delphi2007=Y
Delphi2009Win32=Y
Delphi2010=Y
DelphiXE=Y
DelphiXE2=Y
DelphiXE3=Y
DelphiXE4=Y
Delphi10S=Y
FPC=Y
